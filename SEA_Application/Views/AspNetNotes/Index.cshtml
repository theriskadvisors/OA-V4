@model IEnumerable<SEA_Application.Models.AspNetNote>

@{
    ViewBag.Title = "Index";
    //Layout = "~/Views/Shared/_AdminDashboardLayout.cshtml";
}

@if (User.IsInRole("Admin"))
{
    Layout = "~/Views/Shared/_AdminDashboardLayout.cshtml";
}
else if (User.IsInRole("Staff"))
{
    Layout = "~/Views/Shared/_StaffDashboardLayout.cshtml";
}
else if (User.IsInRole("Receptionist"))
{
    Layout = "~/Views/Shared/_ReceptionistDashboardLayout.cshtml";

}

<link href="~/Content/print-receipt-thermal-printer-master/print-receipt-thermal-printer-master/style.css" media="screen" rel="stylesheet" />
<link rel="stylesheet" href="https://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>


<style>
    .page-header.navbar.navbar-fixed-top {
        padding-right: 0px;
    }
    

    .ButtonStyle {
        color: #141437 !important;
        font-size: 14px !important;
        line-height: 1.71 !important;
        font-weight: normal !important;
        font-family: 'Poppins', sans-serif !important;
    }

    .modal-content {
        position: relative;
        background-color: #fff;
        margin-top: 102px;
        background-clip: padding-box;
        border: 1px solid #999;
        border: 1px solid rgba(0,0,0,.2);
        border-radius: 6px;
        -webkit-box-shadow: 0 3px 9px rgba(0,0,0,.5);
        box-shadow: 0 3px 9px rgba(0,0,0,.5);
        outline: 0;
    }

    .white {
        color: white !important;
    }

    /*input[type=search] {
        border: 1px solid rgb(221, 221, 221);
        border-radius: 40px;
        height: 30px;
        outline: none;
        padding-left: 10px;
        color: rgb(221, 221, 221);
        margin-top: 0px;
    }*/

    /*element.style {
        padding: 10px 0px 0px 0px;
    }*/
</style>

<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Summary Details</h4>
            </div>
            <div class="modal-body" id="modal0">

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<div class="tabsCon">

    <ul class="nav nav-tabs" id="myTabAttr" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="Topics-tab-attr" data-toggle="tab" href="#Topics-attr" role="tab" aria-controls="Topics-attr"
               aria-selected="true">Notes</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="Lessons-tab-attr" data-toggle="tab" href="#Lessons-attr" role="tab" aria-controls="Lessons-attr"
               aria-selected="false">Pending Orders</a>
        </li>

        <li class="nav-item">
            <a class="nav-link" id="ApprovedOrders-tab-attr" data-toggle="tab" href="#ApprovedOrders-attr" role="tab" aria-controls="ApprovedOrders-attr"
               aria-selected="false">Approved Orders</a>
        </li>


        <li class="nav-item">
            <a class="nav-link" id="SaleReport-tab-attr" data-toggle="tab" href="#SaleReport-attr" role="tab" aria-controls="SaleReport-attr"
               aria-selected="false">Sale Report </a>
        </li>


    </ul>


    <div class="card">
        <div class="card-body p-4">

            <div class="tab-content" style="padding: 10px 0px 0px 0px;">


                <div class="tab-pane active show" id="Topics-attr" role="tabpanel" aria-labelledby="Topics-tab-attr">



                    <div class="box box-primary">
                        <div class="box-title"></div>
                        <div class="box-body">


                            @*<button id="PlaceOrder" class="btn pull-right btn-sm btn-primary">Place Order</button>*@
                            @*<p>
                                    @Html.ActionLink("Create New", "Create")
                                </p>*@<div class="table-responsive">
                                <table class="table hover table-striped table-bordered" id="datatable">
                                    <thead>

                                        <tr>
                                            <th>
                                                @Html.DisplayNameFor(model => model.Title)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.Description)
                                            </th>
                                            <th>
                                                Course Type
                                            </th>
                                            <th>
                                                Subject Name
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.NotesType)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.GrandTotal)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.OAPrice)
                                            </th>

                                            <th>
                                                Creation Date
                                            </th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>

                                        @foreach (var item in Model)
                                        {
                                            <tr id="@item.Id">
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Title)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Description)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.CourseType)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.AspNetSubject.SubjectName)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.NotesType)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.GrandTotal)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.OAPrice)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.CreationDate)
                                                </td>
                                                <td>
                                                    @Html.ActionLink("Edit", "Edit", new { id = item.Id })
                                                    @*@Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                                                        @Html.ActionLink("Details", "Details", new { id = item.Id })*@
                                                </td>
                                            </tr>
                                        }
                                    </tbody>

                                    <tfoot>
                                        <tr>
                                            <th>
                                                Title
                                            </th>
                                            <th>
                                                Description
                                            </th>
                                            <th>
                                                Course Type
                                            </th>
                                            <th>
                                                Subject Name
                                            </th>
                                            <th>
                                                Notes Type
                                            </th>
                                            <th>
                                                Grand Total
                                            </th>
                                            <th>
                                                OA Price
                                            </th>
                                            <th>
                                                Creation Date
                                            </th>
                                            <th></th>
                                        </tr>
                                    </tfoot>

                                </table>
                            </div>
                        </div><!--End of Tab 1-->

                    </div>

                </div>

                <div class="tab-pane" id="Lessons-attr" role="tabpanel" aria-labelledby="Lessons-tab-attr">
                    <div class="box box-primary">
                        <div class="box-title"></div>
                        <div class="box-body">
                            <div class="table-responsive">
                                <table class="table hover table-bordered table-striped" id="datatable1">
                                    <thead>
                                        <tr>
                                            <th>
                                                Id
                                            </th>
                                            <th>
                                                Student Name
                                            </th>
                                            <th>
                                                Session Name
                                            </th>
                                            <th>
                                                Total Amount
                                            </th>
                                            <th>
                                                Status
                                            </th>

                                            <th>
                                                OrderType
                                            </th>
                                            <th>
                                                Details
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody id="RecentOrderTableBody"></tbody>
                                </table>
                            </div>


                            <div id="bill" style="margin-left:30px;display:none">

                                <div class="ticket" id="ticket">
                                    <br>
                                    <center>

                                        <img src="~/Content/print-receipt-thermal-printer-master/print-receipt-thermal-printer-master/logo.PNG" />
                                    </center>


                                    <p class="centered">
                                        Officer's Academy
                                        <br><span id="OrderNo"></span>
                                        <br><span id="DateTime"></span>
                                    </p>

                                    <br><b>Cashier:</b> SeaAdmin <span>
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Admin Copy</b>
                                    </span>

                                    <table>
                                        <thead>
                                            <tr>
                                                <th class="description">Title</th>

                                                <th class="quantity">Qty</th>
                                                <th class="price">Price</th>
                                                <th class="Amount">Total</th>

                                            </tr>


                                        </thead>
                                        <tbody id="billbody" style="border: 1px solid black"></tbody>
                                    </table>
                                    <p class="centered">
                                        Thanks for your purchase!
                                        <br>Developed by : TheRiskAdvisors
                                    </p>
                                </div>

                            </div>
                            <br />

                            <div id="bill1" style="margin-left:30px;display:none">

                                <div class="ticket" id="ticket">
                                    <br>
                                    <center>

                                        <img src="~/Content/print-receipt-thermal-printer-master/print-receipt-thermal-printer-master/logo.PNG" />
                                    </center>


                                    <p class="centered">
                                        Officer's Academy
                                        <br><span id="OrderNo1"></span>
                                        <br><span id="DateTime1"></span>
                                    </p>


                                    <br><b>Cashier:</b> SeaAdmin <span>
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Student Copy</b>
                                    </span>

                                    <table>
                                        <thead>
                                            <tr>
                                                <th class="description">Title</th>

                                                <th class="quantity">Qty</th>
                                                <th class="price">Price</th>
                                                <th class="Amount">Total</th>

                                            </tr>


                                        </thead>
                                        <tbody id="billbody1" style="border: 1px solid black"></tbody>
                                    </table>
                                    <p class="centered">
                                        Thanks for your purchase!
                                        <br>Developed by : TheRiskAdvisors
                                    </p>
                                </div>

                            </div>

                            <input type="hidden" id="OrderType" />
                            <button id="btnPrint" style="display:none;margin-left:30px;" class="hidden-print">Print</button>
                        </div>
                    </div>



                </div>

                <div class="tab-pane" id="ApprovedOrders-attr" role="tabpanel" aria-labelledby="ApprovedOrders-tab-attr">



                    <div id="DateFromApprovedOrderTab">


                        <h2 style="color:#00b8ec;display:inline-block">Summary </h2>

                        <label>From</label>
                        <input type="hidden" id="FromDateApprovedOrder">
                        <img src="~/Content/Images/calendar.png" id="FromDateApprovedOrderTrigger" width="25">

                        <label>To</label>

                        <input type="hidden" id="ToDateApprovedOrder">
                        <img src="~/Content/Images/calendar.png" id="ToDateApprovedOrderTrigger" width="25">


                        <br />
                        <div id="DateToViewApprovedOrder">

                        </div>


                    </div>

                    <div class="box box-primary">
                        <div class="box-title"></div>
                        <div class="box-body">



                            <div class="table-responsive">
                                <table class="table hover table-bordered table-striped" id="datatable2">
                                    <thead>
                                        <tr>
                                            <th>
                                                Id
                                            </th>
                                            <th>
                                                Approved Id
                                            </th>
                                            <th>
                                                User Name
                                            </th>
                                            <th>
                                                Session Name
                                            </th>
                                            <th>
                                                Total Amount
                                            </th>
                                            <th>
                                                Status
                                            </th>

                                            <th>
                                                OrderType
                                            </th>
                                            <th>
                                                Details
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody id="ApprovedOrdersTableBody">
                                    </tbody>
                                </table>
                            </div>


                        </div>
                    </div>
                </div>

                <div class="tab-pane" id="SaleReport-attr" role="tabpanel" aria-labelledby="SaleReport-tab-attr">



                    <div>

                        <div class="pull-left">
                            <h2 style="color:#00b8ec;display:inline-block">Summary </h2>

                            <label>From</label>
                            <input type="hidden" id="FromDate">
                            <img src="~/Content/Images/calendar.png" id="FromDateTrigger" width="25">

                            <label>To</label>

                            <input type="hidden" id="ToDate">
                            <img src="~/Content/Images/calendar.png" id="ToDateTrigger" width="25">
                            <br />
                        </div>




                        <div class="pull-right">
                            <button id="PrintNotes" class="btn btn-primary btn-sm">Print Notes</button>

                        </div>


                    </div>

                    <br />
                    <div class="table-responsive" id="DivToPrint">

                        <div id="DateToView">

                        </div>

                        <table  style="border-collapse:collapse;width:100%;padding:10px;" border="1" class="table  table-bordered table-striped table-hover">


                            <thead>

                                <tr>
                                    <th >Approved No </th>
                                    <th>Student</th>
                                    <th>Class </th>
                                    <th>Status </th>
                                    <th>Total PhotoCopier</th>
                                    <th>Total OA</th>
                                    <th>Total</th>
                                    <th>Discount</th>
                                    <th>Total Discounted </th>
                                    @*<th>Total Discounted  OA Price  </th>*@
                                    <th class="detailscolumn">Details</th>
                                </tr>
                            </thead>

                            <tbody id="SaleReport">
                            </tbody>

                        </table>

                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<script>

    $(document).ready(function () {

        // $('a[href="#tab_2"]').trigger('click');
        // var OrderType;

        $('#FromDate').datepicker({
            dateFormat: 'yy-mm-dd'
        });
        $('#ToDate').datepicker({
            dateFormat: 'yy-mm-dd'
        });

        $(function () {
            $('#FromDate').datepicker();
            $('#FromDateTrigger').click(function () {

                $('#FromDate').datepicker('show');

            });
        });


        $(function () {
            $('#ToDate').datepicker();
            $('#ToDateTrigger').click(function () {

                $('#ToDate').datepicker('show');

            });
        });


        $("#FromDate").change(function () {


            var FromDate = $(this).val();
            var ToDate = $("#ToDate").val();

            if (FromDate != "" && ToDate != "") {


                var d = new Date(FromDate);
                var day = d.getDate();
                var month = d.getMonth() + 1;
                var year = d.getFullYear();

                var monthName = GetMonthName(month);

                var FromDateFormat = day + "-" + monthName + "-" + year;


                var d1 = new Date(ToDate);
                var day1 = d1.getDate();
                var month1 = d1.getMonth() + 1;
                var year1 = d1.getFullYear();

                var monthName1 = GetMonthName(month1);

                var ToDateFormat = day1 + "-" + monthName1 + "-" + year1;


                $("#DateToView").html('<h3><span id="FromDateView"> Summary From: ' + FromDateFormat + ' </span> to <span id="ToDateView">' + ToDateFormat + ' </span></h3>');


                GetNotesSummary(FromDate, ToDate);



            }

        })

        $("#ToDate").change(function () {
            debugger
            var ToDate = $(this).val();
            var FromDate = $("#FromDate").val();

            if (FromDate != "" && ToDate != "") {


                var d = new Date(FromDate);
                var day = d.getDate();
                var month = d.getMonth() + 1;
                var year = d.getFullYear();

                var monthName = GetMonthName(month);

                var FromDateFormat = day + "-" + monthName + "-" + year;


                var d1 = new Date(ToDate);
                var day1 = d1.getDate();
                var month1 = d1.getMonth() + 1;
                var year1 = d1.getFullYear();

                var monthName1 = GetMonthName(month1);

                var ToDateFormat = day1 + "-" + monthName1 + "-" + year1;


                $("#DateToView").html('<h3><span id="FromDateView">Summary From: ' + FromDateFormat + ' </span> to <span id="ToDateView">' + ToDateFormat + ' </span></h3>');

                GetNotesSummary(FromDate, ToDate);

            }

        })

        $("#PrintNotes").click(function () {

            var divToPrint = document.getElementById('DivToPrint');
            var newWin = window.open('', 'Print-Window');
            newWin.document.open();
            newWin.document.write('<html><head><style>.detailscolumn{ display:none; }</style></head><body onload="window.print()">' + divToPrint.outerHTML + '</body></html>');
            newWin.document.close();
            setTimeout(function () { newWin.close(); }, 10);

        })

        $('#FromDateApprovedOrder').datepicker({
            dateFormat: 'yy-mm-dd'
        });
        $('#ToDateApprovedOrder').datepicker({
            dateFormat: 'yy-mm-dd'
        });


        $(function () {
            $('#FromDateApprovedOrder').datepicker();
            $('#FromDateApprovedOrderTrigger').click(function () {

                $('#FromDateApprovedOrder').datepicker('show');

            });
        });


        $(function () {
            $('#ToDateApprovedOrder').datepicker();
            $('#ToDateApprovedOrderTrigger').click(function () {

                $('#ToDateApprovedOrder').datepicker('show');

            });
        });



        $("#FromDateApprovedOrder").change(function () {


            var FromDateApprovedOrder = $(this).val();
            var ToDateApprovedOrder = $("#ToDateApprovedOrder").val();

            if (FromDateApprovedOrder != "" && ToDateApprovedOrder != "") {


                var d = new Date(FromDateApprovedOrder);
                var day = d.getDate();
                var month = d.getMonth() + 1;
                var year = d.getFullYear();

                var monthName = GetMonthName(month);

                var FromDateApprovedOrderFormat = day + "-" + monthName + "-" + year;


                var d1 = new Date(ToDateApprovedOrder);
                var day1 = d1.getDate();
                var month1 = d1.getMonth() + 1;
                var year1 = d1.getFullYear();

                var monthName1 = GetMonthName(month1);

                var ToDateApprovedOrderFormat = day1 + "-" + monthName1 + "-" + year1;


                $("#DateToViewApprovedOrder").html('<h5><span id="FromDateApprovedOrderView"> ' + FromDateApprovedOrderFormat + ' </span> to <span id="ToDateApprovedOrderView">' + ToDateApprovedOrderFormat + ' </span></h5>');


                ApprovedOrderByFilter(FromDateApprovedOrder, ToDateApprovedOrder);



            }

        })

        $("#ToDateApprovedOrder").change(function () {
            debugger
            var ToDateApprovedOrder = $(this).val();
            var FromDateApprovedOrder = $("#FromDateApprovedOrder").val();

            if (FromDateApprovedOrder != "" && ToDateApprovedOrder != "") {


                var d = new Date(FromDateApprovedOrder);
                var day = d.getDate();
                var month = d.getMonth() + 1;
                var year = d.getFullYear();

                var monthName = GetMonthName(month);

                var FromDateApprovedOrderFormat = day + "-" + monthName + "-" + year;


                var d1 = new Date(ToDateApprovedOrder);
                var day1 = d1.getDate();
                var month1 = d1.getMonth() + 1;
                var year1 = d1.getFullYear();

                var monthName1 = GetMonthName(month1);

                var ToDateApprovedOrderFormat = day1 + "-" + monthName1 + "-" + year1;


                $("#DateToViewApprovedOrder").html('<h5><span id="FromDateApprovedOrderView"> ' + FromDateApprovedOrderFormat + ' </span> to <span id="ToDateApprovedOrderView">' + ToDateApprovedOrderFormat + ' </span></h5>');

                ApprovedOrderByFilter(FromDateApprovedOrder, ToDateApprovedOrder);


            }

        })



        $('#datatable tfoot th').each(function () {
            var title = $(this).text();
            $(this).html('<input type="text" class="round-border" style="border-color:#053f89; border-radius:5px; width:100%" placeholder="Search" />');
        });

        var table;
        table = $('#datatable').dataTable({

            initComplete: function () {
                // Apply the search
                this.api().columns().every(function () {
                    var that = this;

                    $('input', this.footer()).on('keyup change clear', function () {
                        if (that.search() !== this.value) {
                            that
                                .search(this.value)
                                .draw();
                        }
                    });
                });
            },
            buttons: [

                {
                    text: '<span class="datatableButtonsEdit"> Return Order</span>',
                    action: function (e, dt, button, config) {
                        window.location.href = "/AspNetNotes/ReturnOrder";
                    }
                },
                {
                    text: '<span class="datatableButtonsEdit"> Place Order</span>',
                    action: function (e, dt, button, config) {
                        window.open('/AspNetNotes/PlaceOrder');
                    }
                },
                {
                    text: '<span class="datatableButtonsEdit"> Print Notes</span>',
                    action: function (e, dt, button, config) {
                        window.location.href = "/AspnetNotes/notesprint";
                    }
                },

                {
                    text: '<span class="datatableButtonsEdit"> <img src="/Content/assets/assets/icons/Icon-edit.png" alt=""> Create</span>',
                    action: function (e, dt, button, config) {
                        window.location.href = '/AspnetNotes/Create';
                    }
                },
                {
                    text: '<span class="datatableButtonsDownload"> <img src="/Content/assets/assets/icons/Icon-download.png" alt=""> Download</span>'
                }
            ],
            "language": {
                "lengthMenu": "<div class=\"d-flex showEntriesCon\">\n" +
                    "  <div class=\"p-2\">Show </div> <div class=\"showEntries\"> _MENU_\n" +
                    "  </div>\n" +
                    "  </div>",
                "info": "<div class='showingEntriesOfTotal'>Showing <span class=\"text-info\">_START_ to _END_</span> of _TOTAL_ entries</div>",
                "paginate": {
                    "first": "Firstt",
                    "last": "Lastt",
                    "next": ' <img src="~/Content/assets/assets/icons/Arrow2.png" alt=""> ',
                    "previous": ' <img src="~/Content/assets/assets/icons/Arrow1.png" alt=""> '
                }
            },
            "searching": true,
            // dom: '<"class">Blfrtip',
            dom: "<'row mb-3'<'col-sm-12 col-md-2 col-lg-2'l><'col-sm-12 col-md-10 col-lg-10 datatableButtonsCon text-right'Bf>>" +
                "<'row'<'col-sm-12 datatablesData'tr>>" +
                "<'row mt-4'<'col-sm-12 col-md-4 col-lg-6 infoCon'i><'col-sm-12 col-md-8 col-lg-6 pagCon'p>>",
        });

        table = $('#datatable1').dataTable({
            buttons: [
                {
                    text: '<span class="datatableButtonsReset"> <img src="/Content/assets/assets/icons/Icon-Reset2.png" alt=""> Reset</span>'
                },
                {
                    text: '<span class="datatableButtonsEdit"> <img src="/Content/assets/assets/icons/Icon-edit.png" alt=""> Create</span>',
                    action: function (e, dt, button, config) {
                        window.location.href = '';
                    }
                },
                {
                    text: '<span class="datatableButtonsDownload"> <img src="/Content/assets/assets/icons/Icon-download.png" alt=""> Download</span>'
                }
            ],
            "language": {
                "lengthMenu": "<div class=\"d-flex showEntriesCon\">\n" +
                    "  <div class=\"p-2\">Show </div> <div class=\"showEntries\"> _MENU_\n" +
                    "  </div>\n" +
                    "  </div>",
                "info": "<div class='showingEntriesOfTotal'>Showing <span class=\"text-info\">_START_ to _END_</span> of _TOTAL_ entries</div>",
                "paginate": {
                    "first": "Firstt",
                    "last": "Lastt",
                    "next": ' <img src="~/Content/assets/assets/icons/Arrow2.png" alt=""> ',
                    "previous": ' <img src="~/Content/assets/assets/icons/Arrow1.png" alt=""> '
                }
            },
            "searching": true,
            // dom: '<"class">Blfrtip',
            dom: "<'row mb-3'<'col-sm-12 col-md-2 col-lg-2'l><'col-sm-12 col-md-10 col-lg-10 datatableButtonsCon text-right'Bf>>" +
                "<'row'<'col-sm-12 datatablesData'tr>>" +
                "<'row mt-4'<'col-sm-12 col-md-4 col-lg-6 infoCon'i><'col-sm-12 col-md-8 col-lg-6 pagCon'p>>",
        });

        var table2 = $('#datatable2').dataTable({
            buttons: [
                {
                    text: '<span class="datatableButtonsReset"> <img src="/Content/assets/assets/icons/Icon-Reset2.png" alt=""> Reset</span>'
                },
                {
                    text: '<span class="datatableButtonsEdit"> <img src="/Content/assets/assets/icons/Icon-edit.png" alt=""> Create</span>',
                    action: function (e, dt, button, config) {
                        window.location.href = '';
                    }
                },
                {
                    text: '<span class="datatableButtonsDownload"> <img src="/Content/assets/assets/icons/Icon-download.png" alt=""> Download</span>'
                }
            ],
            "order": [[1, "asc"]],
            "language": {
                "lengthMenu": "<div class=\"d-flex showEntriesCon\">\n" +
                    "  <div class=\"p-2\">Show </div> <div class=\"showEntries\"> _MENU_\n" +
                    "  </div>\n" +
                    "  </div>",
                "info": "<div class='showingEntriesOfTotal'>Showing <span class=\"text-info\">_START_ to _END_</span> of _TOTAL_ entries</div>",
                "paginate": {
                    "first": "Firstt",
                    "last": "Lastt",
                    "next": ' <img src="~/Content/assets/assets/icons/Arrow2.png" alt=""> ',
                    "previous": ' <img src="~/Content/assets/assets/icons/Arrow1.png" alt=""> '
                }
            },
            "searching": true,
            // dom: '<"class">Blfrtip',
            dom: "<'row mb-3'<'col-sm-12 col-md-2 col-lg-2'l><'col-sm-12 col-md-10 col-lg-10 datatableButtonsCon text-right'Bf>>" +
                "<'row'<'col-sm-12 datatablesData'tr>>" +
                "<'row mt-4'<'col-sm-12 col-md-4 col-lg-6 infoCon'i><'col-sm-12 col-md-8 col-lg-6 pagCon'p>>",
        });
        //   $("#ClassID").prepend('<option value="0" >All</option>');


        $("#datatable_filter").hide();


        $("#PageHeader").html("Notes");

        $("#BreadCrumbs").append(' <li> <a href="/Account/Dashboard"> Home </a> <span>&gt;</span></li>');
        $("#BreadCrumbs").append(' <li class="active"><a id="BreadCrumps1" href="#">Notes </a></li>');



        //var table;
        //table = $('#datatable').dataTable({
        //  //  aaSorting: [[0, 'desc']]

        //});

        var clickedOrderId;
        $.ajax({
            type: "POST",
            url: "/AspNetNotes/RecentOrders",
            //pending Orders tab
            data: {},
            success: function (data) {
                table.fnClearTable();
                $.each(data, function (index) {
                    //var tablerow = '<tr>'
                    //    +'<td>' + data[index].Title + '</td> ' +
                    //    +'<td>' + data[index].Discription + '</td> ' +
                    //    +'<td>' + data[index].CourseType + '</td> ' +
                    //    +'<td>' + data[index].Price + '</td> ' +
                    //    +'<td>' + data[index].Quantity + '</td> '+
                    //    +'<td>' + data[index].Status + '</td> '+

                    //'</tr > ';
                    if (data[index].OrderStatus == "Paid") {

                        table.fnAddData([data[index].OrderID, data[index].StudentName, data[index].ClassName, data[index].TotalAmount, data[index].OrderStatus, data[index].OrderType, "<center> <input type='button' name='DetailsButton' class='btn btn-primary btn-sm white' value='Details' id='" + data[index].OrderID + "'/ > <input class='btn btn-danger btn-sm white' onclick='deleteOrder(this)' type='button' id = '" + data[index].OrderID + "' value ='Delete' /></center>"]);
                        // var TableRow = "<tr id='" + data[index].OrderID + "' data-toggle='modal' data-target='#myModal' >  <td>" + data[index].OrderID + "</td> <td >" + data[index].StudentName + "</td> <td >" + data[index].ClassName + "</td>  <td >" + data[index].TotalAmount + "</td>  <td >" + data[index].OrderStatus + "</td> <td><button  id='" + data[index].OrderID + "' class='btn btn-success btn-sm approveBtn' disabled>Approve</button></td></tr> "
                    }
                    else {
                        table.fnAddData([data[index].OrderID, data[index].StudentName, data[index].ClassName, data[index].TotalAmount, data[index].OrderStatus, data[index].OrderType, "<center><input type='button' name='DetailsButton' class='btn btn-primary btn-sm white' value='Details' id='" + data[index].OrderID + "'  />  <input class='btn btn-danger btn-sm white' onclick='deleteOrder(this)' type='button' id = '" + data[index].OrderID + "' value ='Delete' /> </center>"]);
                        //<button  id='" + data[index].OrderID + "'  name ='" + data[index].OrderType + "' class='btn btn-success btn-sm white approveBtn' >Approve</button>
                        // var TableRow = "<tr id='" + data[index].OrderID + "' data-toggle='modal' data-target='#myModal' > <td>" + data[index].OrderID + "</td> <td >" + data[index].StudentName + "</td> <td >" + data[index].ClassName + "</td>  <td >" + data[index].TotalAmount + "</td>  <td >" + data[index].OrderStatus + "</td> <td><button  id='" + data[index].OrderID + "' class='btn btn-success btn-sm approveBtn'>Approve</button></td></tr> "
                    }

                    //alert(data[index].Discription);
                    // $('#RecentOrderTableBody').append(TableRow);
                });
                table.fnDraw();

            }
        });


        $.ajax({
            type: "POST",
            url: "/AspNetNotes/ApprovedOrders",
            data: {},
            success: function (data) {
                table2.fnClearTable();

                
                //  alert("Approved Order Tab");
                $.each(data, function (index) {
                    //var tablerow = '<tr>'
                    //    +'<td>' + data[index].Title + '</td> ' +
                    //    +'<td>' + data[index].Discription + '</td> ' +
                    //    +'<td>' + data[index].CourseType + '</td> ' +
                    //    +'<td>' + data[index].Price + '</td> ' +
                    //    +'<td>' + data[index].Quantity + '</td> '+
                    //    +'<td>' + data[index].Status + '</td> '+

                    //'</tr > ';
                    if (data[index].OrderStatus == "Paid") {

                        table2.fnAddData([data[index].OrderID, data[index].ApprovedId, data[index].StudentName, data[index].ClassName, data[index].TotalAmount, data[index].OrderStatus, data[index].OrderType, "<center> <input type='button' class='btn btn-primary btn-sm white' value='Details' id='" + data[index].OrderID + "' ></center>"]);
                        // var TableRow = "<tr id='" + data[index].OrderID + "' data-toggle='modal' data-target='#myModal' >  <td>" + data[index].OrderID + "</td> <td >" + data[index].StudentName + "</td> <td >" + data[index].ClassName + "</td>  <td >" + data[index].TotalAmount + "</td>  <td >" + data[index].OrderStatus + "</td> <td><button  id='" + data[index].OrderID + "' class='btn btn-success btn-sm approveBtn' disabled>Approve</button></td></tr> "
                    }
                    else {
                        table2.fnAddData([data[index].OrderID, data[index].ApprovedId, data[index].StudentName, data[index].ClassName, data[index].TotalAmount, data[index].OrderStatus, data[index].OrderType, "<center> <input type='button' class='btn btn-primary btn-sm white' value='Details' id='" + data[index].OrderID + "' > </center>"]);

                        // var TableRow = "<tr id='" + data[index].OrderID + "' data-toggle='modal' data-target='#myModal' > <td>" + data[index].OrderID + "</td> <td >" + data[index].StudentName + "</td> <td >" + data[index].ClassName + "</td>  <td >" + data[index].TotalAmount + "</td>  <td >" + data[index].OrderStatus + "</td> <td><button  id='" + data[index].OrderID + "' class='btn btn-success btn-sm approveBtn'>Approve</button></td></tr> "
                    }

                    //alert(data[index].Discription);
                    // $('#RecentOrderTableBody').append(TableRow);
                });
                table2.fnDraw();

            }
        });


        $("#RecentOrderTableBody").on("click", "input[type='button'][name = 'DetailsButton']", function () {

            var OrderId = $(this).attr('id');


            window.open('/AspNetNotes/PendingOrdersDetails?OrderId=' + OrderId);
            //             alert(OrderId);

            //$.ajax({
            //    type: "POST",
            //    url: "/AspNetNotes/RecentOrdersDetails",
            //    data: { "OrderId": OrderId },

            //    success: function (data) {

            //        $('#modal0').html("");

            //        $.each(data, function (index) {
            //            $('#modal0').append('<div > Title Name : ' + data[index].Title + ' </div>  <div> Price : ' + data[index].Price + ' </div> <div> Quantity : ' + data[index].Quantity + ' </div> <div> Total : ' + data[index].Total + ' </div>  <div> Total Photo Copier Price : ' + data[index].PhotoCopierPrice + '</div><div> Total OA Price : ' + data[index].OAPrice + '</div>  <br>  ');
            //        });
            //    }
            //})

        });

        $("#ApprovedOrdersTableBody").on("click", "input[type='button']", function () {

            var OrderId = $(this).attr('id');


            window.open('/AspNetNotes/PendingOrdersDetails?OrderId=' + OrderId);
            //    alert(OrderId);

            //$.ajax({
            //    type: "POST",
            //    url: "/AspNetNotes/RecentOrdersDetails",
            //    data: { "OrderId": OrderId },

            //    success: function (data) {

            //        $('#modal0').html("");

            //        $.each(data, function (index) {
            //            $('#modal0').append('<div > Title Name : ' + data[index].Title + ' </div>  <div> Price : ' + data[index].Price + ' </div> <div> Quantity : ' + data[index].Quantity + ' </div> <div> Total : ' + data[index].Total + ' </div>  <div> Total Photo Copier Price : ' + data[index].PhotoCopierPrice + '</div><div> Total OA Price : ' + data[index].OAPrice + '</div>  <br>  ');
            //        });
            //    }
            //})

        });

        $("#SaleReport").on("click", "input[type='button']", function () {

            var OrderId = $(this).attr('id');


            window.open('/AspNetNotes/PendingOrdersDetails?OrderId=' + OrderId);
            //    alert(OrderId);

            //$.ajax({
            //    type: "POST",
            //    url: "/AspNetNotes/RecentOrdersDetails",
            //    data: { "OrderId": OrderId },

            //    success: function (data) {

            //        $('#modal0').html("");

            //        $.each(data, function (index) {
            //            $('#modal0').append('<div > Title Name : ' + data[index].Title + ' </div>  <div> Price : ' + data[index].Price + ' </div> <div> Quantity : ' + data[index].Quantity + ' </div> <div> Total : ' + data[index].Total + ' </div>  <div> Total Photo Copier Price : ' + data[index].PhotoCopierPrice + '</div><div> Total OA Price : ' + data[index].OAPrice + '</div>  <br>  ');
            //        });
            //    }
            //})

        });
        //    $("#ApprovedOrdersTableBody").on("click", "input[type='button']", function () {

        //    var OrderId = $(this).attr('id');
        //    // alert(OrderId);

        //    $.ajax({
        //        type: "POST",
        //        url: "/AspNetNotes/RecentOrdersDetails",
        //        data: { "OrderId": OrderId },

        //        success: function (data) {

        //            $('#modal0').html("");

        //            $.each(data, function (index) {
        //                $('#modal0').append('<div > Title Name : ' + data[index].Title + ' </div>  <div> Price : ' + data[index].Price + ' </div> <div> Quantity : ' + data[index].Quantity + ' </div> <div> Total : ' + data[index].Total + ' </div>  <div> Total Photo Copier Price : ' + data[index].PhotoCopierPrice + '</div><div> Total OA Price : ' + data[index].OAPrice + '</div>  <br>  ');
        //            });
        //        }
        //    })

        //});

        //$("#ReturnOrder").click(function () {


        //       window.location.href = '/AspNetNotes/ReturnOrder/';

        //})

        $("#RecentOrderTableBody").on("click", ".approveBtn", function () {

            event.stopPropagation();
            var Total = 0.0;
            var OrderId = $(this).attr('id');
            //clickedOrderId = OrderId;

            $('#btnPrint').attr('name', OrderId);


            var OrderType = $(this).attr('name');

            $("#OrderType").val(OrderType);


            //alert(OrderType);
            $("#btnPrint").attr('class', OrderId);

            $.ajax({
                type: "POST",
                url: "/AspNetNotes/RecentOrdersDetails",
                data: { "OrderId": OrderId },

                success: function (data) {
                    $('#billbody').html("");
                    $('#billbody1').html("");


                    $.each(data, function (index) {
                        var TableRow = "<tr>  <td class='description'>" + data[index].Title + "</td> <td class='quantity' > &nbsp;&nbsp;&nbsp;&nbsp; " + data[index].Quantity + "</td> <td  class='price'>" + data[index].Price + "</td>  <td   class='Amount' >&nbsp; " + data[index].Total + "</td>"
                        $('#billbody').append(TableRow);
                        $('#billbody1').append(TableRow);

                        Total = Total + data[index].Total;
                    });
                    var d = new Date($.now());

                    $("#DateTime").html(d.getDate() + "-" + (d.getMonth() + 1) + "-" + d.getFullYear() + " " + d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds());
                    $("#DateTime1").html(d.getDate() + "-" + (d.getMonth() + 1) + "-" + d.getFullYear() + " " + d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds());

                    $("#OrderNo").html('Order#' + OrderId);
                    $("#OrderNo1").html('Order#' + OrderId);
                    $('#billbody').append("<tr>  <td style='word-break:break-all;' class='description'>Total</td>  <td class='quantity'>&nbsp; </td> <td class='price'></td> <td class='Amount'>&nbsp;&nbsp;" + Total + "</td> </tr>");
                    $('#billbody1').append("<tr>  <td style='word-break:break-all;' class='description'>Total</td>  <td class='quantity'>&nbsp; </td> <td class='price'></td> <td class='Amount'>&nbsp;&nbsp;" + Total + "</td> </tr>");

                    $("#bill").css('display', 'block');
                    $("#bill1").css('display', 'block');
                    $("#btnPrint").css('display', 'block');

                }//end of success function
            })

        })

        $('#datatable tfoot tr').appendTo('#datatable thead');
    })

    $("#btnPrint").click(function () {

        $("#btnPrint").css('display', 'none');

        var OrderId = $('#btnPrint').attr('name');
        var OrderType = $("#OrderType").val();
        // alert(OrderType);

        var mywindow = window.open('', '', '');
        mywindow.document.write('<html><head><title>' + document.title + '</title>  ');
        mywindow.document.write('<style>td,th,tr,table{border-top: 1px solid black;} td.description,th.description {width: 90px; max-width: 90px;word-break: break-word;}  td.quantity,th.quantity{ width: 40px;max-width: 40px;word-break: break-all;} td.Amount,th.Amount {  width: 60px;max-width: 60px;word-break: break-all;} td.Amount,th.Amount {  width: 60px;max-width: 60px;word-break: break-all;} .centered {text-align: center;align-content: center;} .ticket{width: 230px;max-width:230px;font-size: 12px}  img {  max-width: inherit;  width: inherit;} </style>');
        mywindow.document.write('</head><body >');
        // mywindow.document.write('<h1>' + document.title + '</h1>');
        mywindow.document.write(document.getElementById('bill').innerHTML);
        mywindow.document.write(document.getElementById('bill1').innerHTML);
        mywindow.document.write('</body></html>');
        mywindow.document.close(); // necessary for IE >= 10
        mywindow.focus(); // necessary for IE >= 10*/

        mywindow.print();
        mywindow.close();


        $.ajax({

            type: "POST",
            url: "/AspNetNotes/ApproveOrders",
            data: { "OrderId": OrderId, "OrderType": OrderType },
            success: function (data) {

                debugger
                window.location.href = '/AspNetNotes/Index/';
            }

        })

        //function drawTable() {
        //    $('#example_filter').addClass("form-group");
        //    $('#example_filter').addClass("has-feedback");
        //    $('#example_length').addClass("col-lg-9 col-md-8 col-sm-12 col-xs-12");
        //    //$('#example_filter').css("col-lg-9 col-md-8 col-sm-12 col-xs-12");

        //    $('#example_wrapper').css("text-align", "left");
        //    $('#example_length').css("text-align", "left");
        //    $('#example_length label').addClass("col-md-3 col-sm-12 col-lg-2");
        //    $("#example_length label").css("text-align", "left");
        //    $('#example_length label').addClass("col-md-2 col-lg-2 col-sm-12");
        //    // // $('#example_length label select').addClass("col-md-3 col-sm-8 col-lg-3"); : auto;
        //    $('#example_filter input').css({ "border": "1px solid #ddd", "border-radius": "40px", "height": "30px", "margin-top": "-5px", "outline": "none", "padding-left": "10px", "color": "#000000 !important" });
        //    //$('#example_length').css({ "overflow": "auto" });
        //    $('#example_filter input').addClass("add");
        //    $('#example_filter').append('<span  class="glyphicon glyphicon-search  form-control-feedback" style="margin-top: -33px; color: #666;"></span>');
        //    var list = $("#ClassID").html();
        //    $('#example_length').append(

        //        '<div class="col-md-1 col-lg-1" style="width:0%; padding-left:1px;">' +
        //        '<div class="d-bar"></div>' +
        //        '</div>'
        //        +

        //        '<div class="col-md-3 col-lg-3">' +
        //        '<div class="col-md-1 col-sm-3 col-xs-3" style="padding-left:0px"><a href=""><i class="glyphicon glyphicon-repeat" data-toggle="tooltip" title="Refresh" data-placement="bottom"></i></a></div>' +
        //        '<div class="col-md-1 col-sm-3 col-xs-3"><a href="/Admin_Dashboard/StudentRegister"><i class="glyphicon glyphicon-edit" data-placement="bottom"></i></a></div>' +
        //        '<div class="col-md-1 col-sm-3 col-xs-3"><a href="/AspNetUser/DisableStudentIndex"><i class="fa fa-ban" data-placement="bottom"></i>' + '</a></div>' +
        //        '<div class="col-md-1 col-sm-3 col-xs-3"><a href=""><i onclick="download()"class="glyphicon glyphicon-download-alt" onclick="download()" data-placement="bottom"></i></a></div>' +
        //        '<div class="col-md-1" padding-left:0px;">' +
        //        '<div class="d-bar"></div>' +
        //        '</div>' +
        //        '</div>');
        //    //$("#Class").prepend("<option value='0'>Select One</option>");
        //}

        //function DrawTable1() {
        //    $('#example_filter').addClass("form-group");
        //    $('#example_filter').addClass("has-feedback");
        //    $('#example_length').addClass("col-lg-9 col-md-8 col-sm-12 col-xs-12");
        //    //$('#example_filter').addClass("col-lg-4 col-md-4 col-sm-12 col-xs-12");
        //    $('#example_wrapper').css("text-align", "left");
        //    $('#example_length').css("text-align", "left");
        //    $('#example_length label').addClass("col-md-3 col-sm-12 col-lg-2");
        //    $("#example_length label").css("text-align", "left");
        //    $('#example_length label').addClass("col-md-2 col-lg-2 col-sm-12");
        //    // // $('#example_length label select').addClass("col-md-3 col-sm-8 col-lg-3"); : auto;
        //    $('#example_filter input').css({ "border": "1px solid #ddd", "border-radius": "40px", "height": "30px", "margin-top": "-5px", "outline": "none", "padding-left": "10px", "color": "#2b2b2b !important" });
        //    //$('#example_length').css({ "overflow": "auto" });
        //    $('#example_filter input').addClass("add");
        //    $('#example_filter').append('<span class="glyphicon glyphicon-search form-control-feedback" style="margin-top: -33px; color: #666;"></span>');
        //    var list = $("#ClassID").html();
        //    $('#example_length').append(

        //        '<div class="col-md-1" style="width:0%; padding-left:1px;">' +
        //        '<div class="d-bar"></div>' +
        //        '</div>'
        //        +

        //        '<lable class="col-md-2 col-lg-2 col-sm-12 col-xs-12 control-label" style="text-align:left;margin-top:0px ;width:100px; padding-left:0px; padding-right:0px;">Select Class</lable>' +
        //        '<div class="col-md-2 col-lg-2">' +
        //        '<select class="form-control input-sm" id="Class" name="ClassID" style="margin-top:-4px" onclick="class_click(this)">' + list +
        //        '</select>' +
        //        '</div>' +

        //        '<div class="col-md-1" style="width:0%; padding-left:-10px;">' +
        //        '<div class="d-bar"></div>' +
        //        '</div>' +

        //        '<div class="col-md-4 col-lg-4" style="padding-left=0px">' +
        //        '<div class="col-md-1 col-sm-3 col-xs-3" style="padding-left:0px"><a href=""><i class="glyphicon glyphicon-repeat" data-toggle="tooltip" title="Refresh" data-placement="bottom"></i></a></div>' +
        //        '<div class="col-md-1 col-sm-3 col-xs-3"><span style="color:grey"><i class="glyphicon glyphicon-edit" data-placement="bottom"></i></span></a></div>' +
        //        '<div class="col-md-1 col-sm-3 col-xs-3"><span style="color:grey"><i class="fa fa-ban"  data-placement="bottom"></i></span>' + '</a></div>' +
        //        '<div class="col-md-1 col-sm-3 col-xs-3"><span style="color:grey"><i class="glyphicon glyphicon-download-alt" data-placement="bottom"></i></a></div>' +
        //        ' <div class="col-md-1" style="width:0%; padding-left:10px;">' +
        //        '<div class="d-bar"></div>' +
        //        '</div>' +
        //        '</div>');
        //    //$("#Class").prepend("<option value='0'>All</option>");
        //}

    })



    function deleteOrder(element) {

        debugger

        var OrderId = $(element).attr('id');


        $.ajax({

            type: "POST",
            url: "/AspNetNotes/DeleteOrder",
            data: { "OrderId": OrderId, },
            success: function (data) {

                debugger
                window.location.href = '/AspNetNotes/Index/';
            }

        })



    }

    function PrintNotes() {
        window.location.href = "/AspnetNotes/notesprint";
    }

    function GetMonthName(monthNumber) {
        var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        return months[monthNumber - 1];
    }
    function PlaceOrder() {
        window.open('/AspNetNotes/PlaceOrder');
    }
    function ReturnOrder() {
        window.location.href = "/AspNetNotes/ReturnOrder";
    }

    function GetNotesSummary(FromDate, ToDate) {

        $("#SaleReport").html("");

        $.ajax({
            type: "POST",
            url: "/AspNetNotes/GetNotesSummary",
            data: { "FromDate": FromDate, "ToDate": ToDate },


            success: function (data) {

                $("#SaleReport").html("");

                var TotalDiscount = 0;
                var GrandTotalPhotoCopier = 0;
                var GrandTotalOA = 0;
                var GrandTotal = 0;
                var GrandTotalDiscounted = 0;
                var GrandTotalDiscountedOAPrice = 0;
                $.each(data, function (index) {
                    debugger
                    $("#SaleReport").append("<tr> <td >" + data[index].ApprovedId + "</td><td>" + data[index].StudentName + "</td> <td>" + data[index].ClassName + "</td><td>" + data[index].Status + "</td><td>" + data[index].TotalPhotoCopier + "</td><td>" + data[index].TotalOA + "</td><td>" + data[index].Total + "</td><td> -" + data[index].Discount + "</td><td>" + data[index].TotalDiscounted + "</td><td class='detailscolumn'><center> <input type='button' class='btn btn-primary btn-sm white' value='Details' id='" + data[index].OrderId + "' ></center></td></tr>")

                    //"<center> <input type='button' class='btn btn-primary btn-sm white' value='Details' id='" + data[index].OrderID + "' ></center>"
                    GrandTotalPhotoCopier = GrandTotalPhotoCopier + data[index].TotalPhotoCopier;
                    GrandTotalOA = GrandTotalOA + data[index].TotalOA;
                    GrandTotal = GrandTotal + data[index].Total;
                    TotalDiscount = TotalDiscount + data[index].Discount;
                    GrandTotalDiscounted = GrandTotalDiscounted + data[index].TotalDiscounted;
                    //  GrandTotalDiscountedOAPrice = GrandTotalDiscountedOAPrice +data[index].TotalDiscountedOAPrice;

                    //   Total = Total + data[index].Total;
                })

                // $("#SaleReport").append("<tr> <td style='display:none'></td><td>Grand Total</td> <td></td>  <td></td> <td>" + GrandTotalPhotoCopier + "</td><td>" + GrandTotalOA + "</td><td>" + GrandTotal + "</td><td></td><td>" + GrandTotalDiscounted + "</td><td>" + GrandTotalDiscountedOAPrice + "</td></tr>")
                $("#SaleReport").append("<tr> <td >Grand Total</td><td></td> <td></td>  <td></td> <td>" + GrandTotalPhotoCopier + "</td><td>" + GrandTotalOA + "</td><td>" + GrandTotal + "</td><td>-" + TotalDiscount + "</td><td>" + GrandTotalDiscounted + "</td></tr>")

            }
        })
    }

    function ApprovedOrderByFilter(FromDate, ToDate) {
        debugger

        var table2 = $('#datatable2').dataTable();

        $.ajax({
            type: "POST",
            url: "/AspNetNotes/ApprovedOrdersByDate",
            data: { "FromDate": FromDate, "ToDate": ToDate },
            success: function (data) {

                table2.fnClearTable();

                $.each(data, function (index) {

                    if (data[index].OrderStatus == "Paid") {

                        table2.fnAddData([data[index].OrderID, data[index].ApprovedId, data[index].StudentName, data[index].ClassName, data[index].TotalAmount, data[index].OrderStatus, data[index].OrderType, "<center> <input type='button' class='btn btn-primary btn-sm white' value='Details' id='" + data[index].OrderID + "' ></center>"]);
                    }

                });
                table2.fnDraw();




            }


        })

    }

</script>
